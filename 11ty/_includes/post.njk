{%set root = ".."%}

<!doctype html>
<html data-theme="light">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>{{ title }}</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/post.css">
    <link rel="stylesheet" href="../css/skeleton.css">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/prism-theme.css">
  </head>
  <body>
    {% set previousPost = collections.Post | getPreviousCollectionItem(page) %}
    {% set nextPost = collections.Post | getNextCollectionItem(page) %}
    <section class="main">

      <div class="content-wrapper">
        {% include "components/navbar.njk" %}
        {% import "components/post_macros.njk" as macros %}
        {{ macros.header(title) }}
        <hr>

        {# blog contents #}
        <article class="post">{{ content | safe }}</article>
        <hr>
        {# navigating to previous and next post #}
        <div class="nav">
          {% if previousPost %}
            <a class="prev" 
              href="/{{root}}{{previousPost.url}}index.html">&lt; {{ previousPost.data.title }}</a>
          {% endif %}

          {% if nextPost %}
            <a class="next"
              href="/{{root}}/{{nextPost.url}}index.html ">{{ nextPost.data.title }} &gt;</a>
          {% endif %}
        </div>
      </div>
      {# Javascript for theme switching, light/dark mode. #}
    </section>
    <script type="text/javascript" src="../js/theme_switch.js" async defer></script>
  </body>
</html>